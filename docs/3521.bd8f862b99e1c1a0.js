"use strict";var I=Object.defineProperty,Y=(g,s,o)=>s in g?I(g,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):g[s]=o,r=(g,s,o)=>(Y(g,"symbol"!=typeof s?s+"":s,o),o);(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3521],{3521:(g,s,o)=>{o.r(s),o.d(s,{Tab1PageModule:()=>p});var e=o(7669),f=o(6019),A=o(9010),_=o(6006),x=o(8239);const C=(0,o(1278).fo)("Share",{web:()=>o.e(481).then(o.bind(o,481)).then(a=>new a.ShareWeb)});var t=o(865),y=o(1675),q=o(5010),u=o(9140);function S(a,n){if(1&a&&(t.TgZ(0,"super-tab-button"),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&a){const i=n.$implicit;t.xp6(2),t.Oqu(i)}}function k(a,n){1&a&&(t.TgZ(0,"ion-card"),t._UZ(1,"ion-skeleton-text",8),t.TgZ(2,"ion-card-content"),t.TgZ(3,"ion-row",9),t.TgZ(4,"ion-col",10),t.TgZ(5,"ion-label",11),t._UZ(6,"ion-skeleton-text",12),t.qZA(),t.qZA(),t.TgZ(7,"ion-col",13),t._UZ(8,"ion-skeleton-text",14),t.qZA(),t.TgZ(9,"ion-col",15),t.TgZ(10,"ion-button",16),t._UZ(11,"ion-icon",17),t.qZA(),t.TgZ(12,"ion-button",16),t._UZ(13,"ion-icon",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())}const w=function(){return[]};function N(a,n){1&a&&(t.TgZ(0,"div"),t.YNc(1,k,14,0,"ion-card",3),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,w).constructor(3)))}const U=function(a){return{article:a}};function F(a,n){if(1&a){const i=t.EpF();t.TgZ(0,"ion-card"),t._UZ(1,"ion-img",19),t.TgZ(2,"ion-card-content"),t.TgZ(3,"ion-row",9),t.TgZ(4,"ion-col",10),t.TgZ(5,"ion-label",11),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"ion-col",13),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"ion-col",15),t.TgZ(11,"ion-button",20),t.NdJ("click",function(){const d=t.CHM(i).$implicit;return t.oxw(2).share(d)}),t._UZ(12,"ion-icon",17),t.qZA(),t.TgZ(13,"ion-button",20),t.NdJ("click",function(){const d=t.CHM(i).$implicit;return t.oxw(2).bookmark(d)}),t._UZ(14,"ion-icon",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const i=n.$implicit;t.xp6(1),t.Q6J("src",i.urlToImage)("state",t.VKq(7,U,i)),t.xp6(5),t.Oqu(i.title),t.xp6(2),t.hij(" ",t.xi3(9,4,i.publishedAt,"short")," ")}}function J(a,n){if(1&a){const i=t.EpF();t.TgZ(0,"super-tab"),t.TgZ(1,"ion-content",4),t.YNc(2,N,2,2,"div",5),t.YNc(3,F,15,9,"ion-card",3),t.TgZ(4,"ion-infinite-scroll",6),t.NdJ("ionInfinite",function(c){return t.CHM(i),t.oxw().loadMore(c)}),t._UZ(5,"ion-infinite-scroll-content",7),t.qZA(),t.qZA(),t.qZA()}if(2&a){const i=t.oxw();t.xp6(2),t.Q6J("ngIf",!i.articles.length),t.xp6(1),t.Q6J("ngForOf",i.articles)}}const b=class{constructor(n,i){r(this,"newsService"),r(this,"bookmarkService"),r(this,"infiniteScroll"),r(this,"categories"),r(this,"articles",[]),r(this,"page",0),r(this,"pageSize",20),r(this,"activeCategory",0),this.newsService=n,this.bookmarkService=i,this.categories=this.newsService.categories}ngOnInit(){this.loadNews()}tabChanged(n){n.detail.changed&&(this.activeCategory=n.detail.index,this.articles=[],this.page=0,this.loadNews())}loadNews(n){var i=this;this.newsService.getTopHeadlines(this.categories[this.activeCategory],this.pageSize,this.page).subscribe(function(){var l=(0,x.Z)(function*(c){n&&(yield n.target.complete(),i.infiniteScroll.disabled=c.totalResults<=i.articles.length),c.articles&&(i.articles=[...i.articles,...c.articles])});return function(c){return l.apply(this,arguments)}}())}share(n){return(0,x.Z)(function*(){yield C.share({title:n.title,text:"Check out this article",url:n.url,dialogTitle:"Share news"})})()}bookmark(n){this.bookmarkService.addBookmark(n)}loadMore(n){this.page+=1,this.loadNews(n)}};let h=b;r(h,"\u0275fac",function(i){return new(i||b)(t.Y36(y.Y),t.Y36(q.F))}),r(h,"\u0275cmp",t.Xpm({type:b,selectors:[["app-tab1"]],viewQuery:function(i,l){if(1&i&&t.Gf(e.ju,5),2&i){let c;t.iGM(c=t.CRH())&&(l.infiniteScroll=c.first)}},decls:10,vars:2,consts:[["color","primary"],[3,"tabChange"],["slot","top","scrollable","","scrollablePadding","false"],[4,"ngFor","ngForOf"],[1,"ion-padding-top"],[4,"ngIf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more news..."],["animated","",2,"width","100%","height","30vh"],[1,"ion-align-items-center"],["size","12"],["color","dark"],["animated","",2,"width","70%"],["size","6",1,"ion-text-left"],["animated","",2,"width","30%"],["size","6",1,"ion-text-right"],["fill","clear","color","medium"],["name","share","slot","icon-only"],["name","bookmark","slot","icon-only"],["routerLink","/article",3,"src","state"],["fill","clear","color","medium",3,"click"]],template:function(i,l){1&i&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",0),t.TgZ(2,"ion-title"),t._uU(3," Top Headlines "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"ion-content"),t.TgZ(5,"super-tabs",1),t.NdJ("tabChange",function(d){return l.tabChanged(d)}),t.TgZ(6,"super-tabs-toolbar",2),t.YNc(7,S,3,1,"super-tab-button",3),t.qZA(),t.TgZ(8,"super-tabs-container"),t.YNc(9,J,6,2,"super-tab",3),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(7),t.Q6J("ngForOf",l.categories),t.xp6(2),t.Q6J("ngForOf",l.categories))},directives:[e.Gu,e.sr,e.wd,e.W2,u.Ex,u.Ry,f.sg,u.ti,u.p7,e.Q$,u.L0,f.O5,e.ju,e.MB,e.PM,e.CK,e.FN,e.Nd,e.wI,e.YG,e.gu,e.Xz,e.YI,_.rH],pipes:[f.uU],styles:["ion-card[_ngcontent-%COMP%]{margin-inline:0px}super-tabs[_ngcontent-%COMP%]{--super-tabs-toolbar-background: transparent;--st-indicator-color: var(--ion-color-primary)}"]}));const O=[{path:"",component:h}],T=class{};let Z=T;r(Z,"\u0275fac",function(i){return new(i||T)}),r(Z,"\u0275mod",t.oAB({type:T})),r(Z,"\u0275inj",t.cJS({imports:[[_.Bz.forChild(O)],_.Bz]}));const m=class{};let p=m;r(p,"\u0275fac",function(i){return new(i||m)}),r(p,"\u0275mod",t.oAB({type:m})),r(p,"\u0275inj",t.cJS({imports:[[e.Pc,f.ez,A.u5,Z,u.IO]]}))}}]);